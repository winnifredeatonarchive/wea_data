
language: java

addons:
  apt:
    packages:
      - libexpat1-dev
      - gettext
      - libglib2.0-dev
      - liborc-0.4-dev
      - libfftw3-dev
      - liblcms2-dev
      - libmagickwand-dev
      - libopenexr-dev
      - libcfitsio3-dev
      - libgif-dev
      - libgsf-1-dev
      - libmatio-dev
      - libopenslide-dev
      - libpango1.0-dev
      - libpoppler-glib-dev
      - librsvg2-dev
      - libwebp-dev

before_install:
    - sudo apt-get install libvips libvips-dev
    - sudo apt-get install libvips-tools

script: ant all
notifications:
  email:
    recepients:
      - joey.takeda@gmail.com #Always email Joey
    on_success: change 
    on_failure: always # Alert when the build fails
deploy:
  - provider: pages
    skip-cleanup: true
    github-token: $GH_TOKEN 
    keep-history: false
    local-dir: products/site
    target-branch: master
    repo: winnifredeatonarchive/wea
    on:
        branch: master
  - provider: pages
    skip-cleanup: true
    github-token: $GH_TOKEN
    keep-history: false
    local-dir: products/docs
    target-branch: master
    repo: winnifredeatonarchive/docs
    on:
        branch: master